<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>以太坊扩容方案 - Layer2 | Chitian's Blogs</title><meta name="author" content="chitian-victor"><meta name="copyright" content="chitian-victor"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="一、背景区块链技术存在着“不可能三角”，即无法同时达到 可扩展（Scalability） 、去中心化（Decentralization） 、安全（Security） ，三者只能得其二  可扩展性：每秒可以处理大量交易。 去中心化：拥有大量参与区块生产和验证交易的节点。 安全性：获得网络的多数控制权需要非常高昂的成本。  以太坊的底层设计是将安全性与去中心化 放在了不可能三角的首位，这也就造成了性能">
<meta property="og:type" content="article">
<meta property="og:title" content="以太坊扩容方案 - Layer2">
<meta property="og:url" content="https://chitian-victor.github.io/posts/layer2/index.html">
<meta property="og:site_name" content="Chitian&#39;s Blogs">
<meta property="og:description" content="一、背景区块链技术存在着“不可能三角”，即无法同时达到 可扩展（Scalability） 、去中心化（Decentralization） 、安全（Security） ，三者只能得其二  可扩展性：每秒可以处理大量交易。 去中心化：拥有大量参与区块生产和验证交易的节点。 安全性：获得网络的多数控制权需要非常高昂的成本。  以太坊的底层设计是将安全性与去中心化 放在了不可能三角的首位，这也就造成了性能">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://chitian-victor.github.io/img/luffy-icon.png">
<meta property="article:published_time" content="2026-01-12T08:54:22.000Z">
<meta property="article:modified_time" content="2026-02-25T05:05:39.718Z">
<meta property="article:author" content="chitian-victor">
<meta property="article:tag" content="ethereum">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://chitian-victor.github.io/img/luffy-icon.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "以太坊扩容方案 - Layer2",
  "url": "https://chitian-victor.github.io/posts/layer2/",
  "image": "https://chitian-victor.github.io/img/luffy-icon.png",
  "datePublished": "2026-01-12T08:54:22.000Z",
  "dateModified": "2026-02-25T05:05:39.718Z",
  "author": [
    {
      "@type": "Person",
      "name": "chitian-victor",
      "url": "https://chitian-victor.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/luffy-icon.png"><link rel="canonical" href="https://chitian-victor.github.io/posts/layer2/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css?v=5.5.3"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '以太坊扩容方案 - Layer2',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/hs-custom.css"><meta name="generator" content="Hexo 8.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/luffy-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Chitian's Blogs</span></a><a class="nav-page-title" href="/"><span class="site-name">以太坊扩容方案 - Layer2</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">以太坊扩容方案 - Layer2</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2026-01-12T08:54:22.000Z" title="发表于 2026-01-12 16:54:22">2026-01-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2026-02-25T05:05:39.718Z" title="更新于 2026-02-25 13:05:39">2026-02-25</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Tech/">Tech</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">3.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>11分钟</span></span></div></div></div><article class="container post-content" id="article-container"><h1 id="一、背景"><a href="#一、背景" class="headerlink" title="一、背景"></a>一、背景</h1><p>区块链技术存在着“<strong>不可能三角</strong>”，即无法同时达到 <strong>可扩展（Scalability）</strong> 、<strong>去中心化（Decentralization）</strong> 、<strong>安全（Security）</strong> ，三者只能得其二</p>
<ul>
<li>可扩展性：每秒可以处理大量交易。</li>
<li>去中心化：拥有大量参与区块生产和验证交易的节点。</li>
<li>安全性：获得网络的多数控制权需要非常高昂的成本。</li>
</ul>
<p>以太坊的底层设计是将<strong>安全性与去中心化</strong> 放在了不可能三角的首位，这也就造成了性能的先天不足，无法满足大规模的交互。当前以太坊的 TPS 约 25-30 TPS（出块 12 秒 &#x2F; 块，Gas 上限 60M，2025 年Fusaka 升级后） ，对比传统支付系统：Visa 的峰值 TPS 约为 24,000 笔 &#x2F; 秒，支付宝的峰值 TPS 约为 100,000 笔 &#x2F; 秒。以太坊的性能差距达到了<strong>千倍级别</strong>，根本无法支撑大规模的日常交易。</p>
<h1 id="二、扩容手段"><a href="#二、扩容手段" class="headerlink" title="二、扩容手段"></a>二、扩容手段</h1><blockquote>
<p><strong>简单说，以太坊扩容就是为了又快又省钱，提升用户体验</strong></p>
</blockquote>
<img src="/img/layer2/scaling.excalidraw.png" width="600" />

<h2 id="非主流扩容手段"><a href="#非主流扩容手段" class="headerlink" title="非主流扩容手段"></a>非主流扩容手段</h2><blockquote>
<p>以下的扩容手段目前已经不再是主流方案，而且大多也都转型为了 rollup，可以选择性了解</p>
</blockquote>
<h3 id="分片（sharding）"><a href="#分片（sharding）" class="headerlink" title="分片（sharding）"></a>分片（sharding）</h3><p>Sharding 一词本来源于数据库的术语，表示将大型数据库分割为很多更小的、更易管理的部分，从而能够实现更加高效的交互。区块链分片是指对区块链网络进行分片，从而增加其扩展性。根据最新的以太坊 2.0 规范，以太坊区块链会被分为 1024 个分片链，这也意味着以太坊的 TPS 将提高 1000 倍以上。但目前 Sharding 方案仍然在跨分片通信、欺诈识别、随机分配与选举安全性等方面存在不足，所以目前以太坊还是以推进 Rollup 为主。</p>
<h3 id="状态通道（state-channel）"><a href="#状态通道（state-channel）" class="headerlink" title="状态通道（state channel）"></a>状态通道（state channel）</h3><p>状态通道是一种智能合约驱动的链下交互协议，允许固定的一组参与方，在不向以太坊主链提交任何交易的情况下，无限次地更新彼此的状态（如余额、合约存储、游戏进度等）。只有在通道<strong>创建（初始化）</strong> 和 <strong>关闭（终结）</strong> 时，才会与主链进行交互，最终的状态由链上智能合约进行结算。<br>简单的操作流程示例：</p>
<ol>
<li>固定范围内的用户（比如 A 和 B）确定通道的有效期、锁定的资产数量、争议解决的超时时间。</li>
<li>部署通道智能合约，锁定资产，并生成初始化的状态S0。</li>
<li>开始进行链下交易，交易之后的每一个状态都包含<strong>前一个状态的哈希值</strong>，而且需要双方签名确认，形成一个链式结构，状态哈希的数据可以认为是带序列号的，所以通道合约是可以识别顺序的。</li>
<li>将链下的最终有效状态提交到主链，由智能合约进行结算，解锁并分配锁定的资产。</li>
</ol>
<img src="/img/layer2/state_channel.excalidraw.png" width="600" />

<blockquote>
<p><mark>问题：如何保证安全性呢?</mark><br>首先，每次交易过后生成新的状态哈希，都是需要参与方进行签名的，所有人都认可的。其次，合约收到了终结的状态哈希之后是存在一定的挑战期限的，其他人仍然可以提交比该状态哈希更靠后的结果，最终通道合约会以最新的状态哈希结算，所如果有人提前了中间的状态哈希想要回滚交易，其他人也是可以进行纠正并成方</p>
</blockquote>
<h3 id="侧链（side-chain）"><a href="#侧链（side-chain）" class="headerlink" title="侧链（side chain）"></a>侧链（side chain）</h3><p>独立于以太坊主链的区块链，通过双向锚定桥与以太坊互操作，<strong>具备自有共识机制和节点网络</strong>，以牺牲部分安全性为代价，实现高 TPS 和低 Gas 成本。<br>简单来说，就是为了体验更快更好的交易体验，用户先把 ETH 转成侧链的币种(镜像币)进行铸造，然后在侧链上交易，满足侧链的验证规则即可，后面也可以再把自己的 ETH 给赎回，比如：Polygon PoS，以太坊生态最大的侧链；Binance Smart Chain（BSC)；Avalanche C-Chain<br>严格意义上，我认为这一类不属于 Layer2 ，本质上和以太坊主链是平行关系，之间具有交互关系而已。而大部分依托于 ETH 侧链也都在像 Rollup 转型，比如后续推出的 Polygon zkEVM<br>此外，详细的交易数据都在侧链上面，主链上是没有的详情的</p>
<img src="/img/layer2/polygon.excalidraw.png" width="600" />

<blockquote>
<p><mark>问题：拿Polygon Pos 来说，他的出块速度可以达到 2s，TPS 达到7K，为什么以太坊不能像拿Polygon一样实现 2s 的出块速度，实现更高的 TPS？</mark><br>以太坊的慢是为了平衡去中心化、安全性和系统稳定性，而想要拥有更快的出块速度，会从硬件门槛、共识机制、网络同步三个维度破坏这种平衡的，具体体现在如下几个方面<br>a. <strong>硬件门槛提升，去中心化程度下降</strong>：更快的出块速度需要节点在更短的时间内处理更多的交易、生成更多的区块、验证和同步更多的数据，这会大幅提升节点的硬件要求，造成节点骤降，去中心化程度降低。<br>b. <strong>共识最终性变弱，安全性降低</strong>：更快的出块速度会迫使共识机制降低最终性的要求（比如减少签名验证的节点权重、缩短确认的区块数），这会导致交易的最终性变弱，更容易出现交易回滚、双花攻击等问题，攻击成本会下降非常多。<br>c. <strong>网络同步压力增大，系统稳定性下降</strong>：更快的出块速度会缩短区块之间的时间间隔，节点同步区块的时间会更加紧张，这会大幅增加网络拥堵的概率和分叉的风险，导致系统稳定性下降，影响用户体验。</p>
</blockquote>
<h3 id="Plasma"><a href="#Plasma" class="headerlink" title="Plasma"></a>Plasma</h3><p>类似于侧链技术，只不过该子链没有自己的共识机制和专属货币，实际的数据还是依托于 L1 主链，只是把大部分交易放到独立的子链（Plasma 链）上处理，只把关键的「状态根哈希」和「资金进出记录」同步到以太坊主链；用户提现时，需要通过<strong>挑战期机制</strong>证明自己的资产合法，才能从主链取回资金。此外，详细的交易数据都在子链上面，主链上是没有的详情的。由于子链的安全性差，所以需要定时把子链的根哈希同步到主链存储</p>
<img src="/img/layer2/plasma.excalidraw.png" width="600" />

<blockquote>
<p><mark>问题1：为什么需要存在挑战期间？</mark><br>其实 plasma 可以做到在同步根哈希的时候就完成全部验证，但是只做了弱验证，原因是完全验证需要合约获取子链的完整交易数据，并重新计算根哈希，这会让 Plasma 失去扩容的意义。比如一次同步一个根哈希关联着 100W 笔交易大概 1G 的数据，那么每次同步到合约上面，以太坊主链的交易数据量会暴增，不仅没有扩容，反而会让主链更加拥堵；验证的时间和 Gas 成本会高到无法承受，完全失去了 Layer2 扩容的意义。<br>这也是 Plasma 方案的 <strong>「安全兜底设计」</strong> —— 既然提交时的弱验证无法防止所有作恶，就必须依赖<strong>用户的主动挑战</strong>，来弥补安全的不足。<br> <mark>问题2：用户如何进行挑战的？</mark><br>假设合约中保存着的根哈希列表为[R1,R2,R_bad]，其中 R_bad 是子链伪造的哈希，那么用户需要提供自己确实在子链上且有余额，提供子链的 R2 Merkle 树的余额子节点+哈希序列，可以一步一步推导到 R2；之后再证明 R_bad 里面没有绑定自己的交易记录，继续提供子链中R_bad Merkle 树的无交易子节点+哈希序列，证明了确实没交易，然后 R_bad 记录了用户的余额是 0，那么就会被推翻了。「有一个前提就是合约是可以分析叶子节点的信息的」</p>
</blockquote>
<h2 id="Rollup"><a href="#Rollup" class="headerlink" title="Rollup"></a>Rollup</h2><blockquote>
<p>Rollup 和 Plasma 都是「主链合约锚定 + L2 映射铸币 &#x2F; 销毁」的核心骨架，但是在数据同步与安全性上面有这巨大的差异</p>
</blockquote>
<img src="/img/layer2/rollup.excalidraw.png" width="600" />

<p>Rollup（卷叠）技术是目前最主流的 L2 扩容方案。顾名思义，Rollup 就是把一堆交易卷起来（Rollup）汇总成一个交易，所有接收到这个交易的节点只去验证执行结果，而不会验证逻辑。因此 Rollup 交易所需 Gas 费会远小于交易 Gas 费总和，TPS（每秒钟交易次数）也增加了。<br>Rollup 技术主要分为两类：</p>
<ol>
<li>Optimistic Rollup<br>Optimistic Rollup（乐观的 Rollup 协议）采用欺诈证明方法，即对链上发布的所有 Rollup 区块都保持乐观态度并假设其有效，它仅在欺诈发生的情况下提供证据。乐观 Rollup 的优势在于能使得原生 Layer1 上的 solidity 合约可以无缝移植到 Layer2，从而最大程度提升了技术人员的研发体验，目前主流方案包括 Optimism 和 Arbitrum。</li>
<li>ZK-Rollup<br>ZK-Rollup 是基于零知识证明的 Layer2 扩容方案，采用有效性验证方法(VP)，默认所有交易都是不诚实的，只有通过有效性验证才会被接受。ZK-Rollup 在链下进行复杂的计算和证明的生成，链上进行证明的校验并存储部分数据保证数据可用性。目前主流的方案包括 zkSync、StarkNet、Scroll、Polygon Hermez 等。</li>
</ol>
<p><strong>从中长期来看，随着 ZK-SNARK 技术的改进，ZK rollups 将在所有用例中胜出。</strong> — Vitalik Buterin</p>
<p>Optimistic Rollup是可以 100% 兼容以太坊原生 EVM 的，由于 zkEVM 并没有统一的设计标准，所以每个项目方基于不同角度在兼容 EVM 和支持 ZK 之间权衡设计出各自方案，目前基本分为两种思路：</p>
<ol>
<li>编程语言层面支持，自定义 EVM 操作码，把 ZK-friendly 的操作抽出来重新设计新的、架构不同的虚拟机，通过编译器将 Soilidity 编译成新的虚拟机操作码（性能更好，定制的 Solidity编译器和EVM 虚拟机）</li>
<li>字节码层面支持，支持原生 EVM 操作码（兼容性更好，还用原生的Solidity 编译器和EVM虚拟机）</li>
</ol>
<blockquote>
<p><mark>问题：为什么一定要把合约也部署在 Layer2 上面？</mark><br>前面的举例都是说用户和用户之间的交易放在 Layer2 上面是如何节省 Gas 和增大 TPS 的，其实合约也是一样的。合约部署在 Layer2 上后，合约的所有执行逻辑、用户的所有合约交互，都在 Layer2 链下批量完成，Layer2 只需要把「批量交易的压缩数据 + ZK 证明」提交到主网存证 &#x2F; 验证即可，所以 Layer2 的优点合约都会继承。<br>这也是为什么一定要考虑EVM 兼容性，否则主网上的大量存量合约迁移 Layer2 成本会非常高</p>
</blockquote>
<h1 id="三、拓展"><a href="#三、拓展" class="headerlink" title="三、拓展"></a>三、拓展</h1><h2 id="EIP-4844"><a href="#EIP-4844" class="headerlink" title="EIP-4844"></a>EIP-4844</h2><p>该提案可以说是针对 rollup 的二次提升，提出了一种临时存储的数据结构Blob<br>主要有以下优势：</p>
<ul>
<li>降低Rollup 数据上链成本，进一步提升 TPS<ul>
<li>升级前 Rollup 依赖 Calldata 存储批量交易数据，Calldata 写入执行层状态，永久存储成本高（约 16 gas &#x2F; 字节），导致 L2 交易费难进一步下降，而在区块上单开的区域中 Blob 存储成本仅为 Calldata 的 1&#x2F;10–1&#x2F;100，而且不和主网共享区块 Gas 上限</li>
</ul>
</li>
<li>降低主网存储与带宽压力<ul>
<li>原生资产交易与 Rollup 数据共用 Calldata，导致主网拥堵时 L2 数据发布成本飙升。Blob 由共识层临时存储，不占用执行层状态空间，而且会定时清理，避免节点负担过重</li>
</ul>
</li>
</ul>
<p>唯一不足：Blob 生命周期 18 天，需额外工具（如 Archival 节点、DA 层备份）保证长期数据可追溯。</p>
<h2 id="zkSync-Era-抽象账户-Account-Abstraction-AA"><a href="#zkSync-Era-抽象账户-Account-Abstraction-AA" class="headerlink" title="zkSync Era 抽象账户(Account Abstraction, AA)"></a>zkSync Era 抽象账户(Account Abstraction, AA)</h2><blockquote>
<p>打破了以太坊 EOA 与合约账户的二元隔离，让账户既能像 EOA 一样发起交易，又能像合约一样嵌入自定义逻辑</p>
</blockquote>
<p>主要解决以下 3 个痛点：</p>
<ol>
<li>EOA 账户必须持有 ETH 才能交易，哪怕你有 100 万 USDC 也没用，一分钱都转不出去<ul>
<li>抽象账户可以支持用任意 ERC20 代币支付 Gas 费（USDC&#x2F;USDT&#x2F;DAI 等），协议层直接写死的功能，不需要任何第三方插件（用的是zk 官方的paymaster合约组件）、不需要任何手续费，没有 ETH，照样能花所有币。</li>
</ul>
</li>
<li>EOA 账户只有一个私钥管全部资产，要么丢私钥 &#x3D; 丢所有钱，要么被盗 &#x3D; 被洗劫一空，没有任何风控兜底<ul>
<li>抽象账户可以支持自定义交易限额、多签验证，这些规则是写在账户的底层逻辑里的，不是第三方插件，不是可有可无的功能，而是可以自由设置的「安全防线」。比如给自己的抽象账户设置一天只能交易1 个 ETH，或者需要3个人中的 2 个人的签名才能发起交易等等</li>
</ul>
</li>
<li>EOA 账户一笔操作只能做一件事，多笔交易要重复签名、重复付 Gas，又费钱又费时间，效率极低<ul>
<li>抽象账户支持批量交易（Batch Transaction），协议层允许把多笔操作打包成一笔交易，只需要签一次名、只需要付一次 Gas 费、只需要等待一次确认，所有操作一次性完成。本身 zksync 天然支持交易批量打包的，只不过把功能提升到了用户端</li>
</ul>
</li>
</ol>
<hr>
<p><strong>参考：</strong><br><a target="_blank" rel="noopener" href="https://www.wtf.academy/en/course/zksync101/zkSync">zkSync基础</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://chitian-victor.github.io">chitian-victor</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://chitian-victor.github.io/posts/layer2/">https://chitian-victor.github.io/posts/layer2/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://chitian-victor.github.io" target="_blank">Chitian's Blogs</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/ethereum/">ethereum</a></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/pumpkin_faucet/" title="代币水龙头项目🎃"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">代币水龙头项目🎃</div></div><div class="info-2"><div class="info-item-1">一、背景 项目地址：https://github.com/chitian-victor/pumpkin_faucet  这是一个基于 Next.js 和 Foundry 构建代币水龙头项目，支持用户在一定的时间间隔内领取指定数量的代币，仅供学习使用 项目展示 后续可以自行拓展的功能：  支持修改领取间隔以及领取数量 支持捐赠代币 支持修改代币和水龙头地址     项目部署&amp;体验 在进入开发之前一定要清楚，我们做的到底是个什么东西…..  1. 后端部署12345cd backend# 首先，单开一个 terminal 执行下面的指令启动 foundry 的测试区块节点，控制台会输出固定的 10 个公钥和私钥地址anvil# 之后再单开一个 terminal 部署上我们的合约，并进行初始化make init  2. 前端部署123cd frontendnpm installnpm run dev  3. 修改水龙头地址 path: pumpkin_faucet&#x2F;frontend&#x2F;components&#x2F;context.tsx  12// 找到下面...</div></div></div></a><a class="pagination-related" href="/posts/EVM/" title="EVM(以太坊虚拟机)"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">EVM(以太坊虚拟机)</div></div><div class="info-2"><div class="info-item-1">一、定义EVM 全称是 Ethereum Virtual Machine ，具备以下特性：  虚拟运行环境： 它不直接运行在硬件上，而是作为一个软件层运行在每一个以太坊节点（计算机）中。 沙盒化（Sandboxed）： EVM 是完全隔离的。在 EVM 中运行的代码（智能合约）无法访问网络、文件系统或其他进程。这保证了即使合约有恶意代码，也不会损害节点本身。 统一性： 无论在 Windows、Linux 还是 macOS 上运行以太坊节点，EVM 的执行结果都是完全一致的。  二、工作原理 1. 代码的编译与执行流程 编写： 开发者写好 Solidity 代码。 编译： 编译器将代码转换为 Bytecode（字节码）。这是 EVM 唯一能读懂的语言（一串十六进制数字）。 部署： 字节码被作为数据发送到区块链上存储。 执行： 当用户调用合约时，EVM 读取这些字节码，并将其分解为 Opcode（操作码） 逐行执行。  2. 栈式架构与我们在个人电脑中常用的 x86 架构（基于寄存器）不同，EVM 是基于栈（Stack） 的虚拟机。  后进先出 (LIFO)： 数据像叠盘子一样，最后...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/EVM/" title="EVM(以太坊虚拟机)"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-01-06</div><div class="info-item-2">EVM(以太坊虚拟机)</div></div><div class="info-2"><div class="info-item-1">一、定义EVM 全称是 Ethereum Virtual Machine ，具备以下特性：  虚拟运行环境： 它不直接运行在硬件上，而是作为一个软件层运行在每一个以太坊节点（计算机）中。 沙盒化（Sandboxed）： EVM 是完全隔离的。在 EVM 中运行的代码（智能合约）无法访问网络、文件系统或其他进程。这保证了即使合约有恶意代码，也不会损害节点本身。 统一性： 无论在 Windows、Linux 还是 macOS 上运行以太坊节点，EVM 的执行结果都是完全一致的。  二、工作原理 1. 代码的编译与执行流程 编写： 开发者写好 Solidity 代码。 编译： 编译器将代码转换为 Bytecode（字节码）。这是 EVM 唯一能读懂的语言（一串十六进制数字）。 部署： 字节码被作为数据发送到区块链上存储。 执行： 当用户调用合约时，EVM 读取这些字节码，并将其分解为 Opcode（操作码） 逐行执行。  2. 栈式架构与我们在个人电脑中常用的 x86 架构（基于寄存器）不同，EVM 是基于栈（Stack） 的虚拟机。  后进先出 (LIFO)： 数据像叠盘子一样，最后...</div></div></div></a><a class="pagination-related" href="/posts/pumpkin_faucet/" title="代币水龙头项目🎃"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-01-16</div><div class="info-item-2">代币水龙头项目🎃</div></div><div class="info-2"><div class="info-item-1">一、背景 项目地址：https://github.com/chitian-victor/pumpkin_faucet  这是一个基于 Next.js 和 Foundry 构建代币水龙头项目，支持用户在一定的时间间隔内领取指定数量的代币，仅供学习使用 项目展示 后续可以自行拓展的功能：  支持修改领取间隔以及领取数量 支持捐赠代币 支持修改代币和水龙头地址     项目部署&amp;体验 在进入开发之前一定要清楚，我们做的到底是个什么东西…..  1. 后端部署12345cd backend# 首先，单开一个 terminal 执行下面的指令启动 foundry 的测试区块节点，控制台会输出固定的 10 个公钥和私钥地址anvil# 之后再单开一个 terminal 部署上我们的合约，并进行初始化make init  2. 前端部署123cd frontendnpm installnpm run dev  3. 修改水龙头地址 path: pumpkin_faucet&#x2F;frontend&#x2F;components&#x2F;context.tsx  12// 找到下面...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/luffy-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">chitian-victor</div><div class="author-info-description">珍惜每一天，享受每一天～</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/chitian-victor"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/chitian-victor" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="https://space.bilibili.com/51815484" target="_blank" title="Bilibili"><i class="fab fa-bilibili" style="color: #FA7299;"></i></a><a class="social-icon" href="https://qm.qq.com/q/IDDw5cTFcc" target="_blank" title="QQ群"><i class="fab fa-qq" style="color: #12B7F5;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content"></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E8%83%8C%E6%99%AF"><span class="toc-text">一、背景</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%89%A9%E5%AE%B9%E6%89%8B%E6%AE%B5"><span class="toc-text">二、扩容手段</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%9E%E4%B8%BB%E6%B5%81%E6%89%A9%E5%AE%B9%E6%89%8B%E6%AE%B5"><span class="toc-text">非主流扩容手段</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%89%87%EF%BC%88sharding%EF%BC%89"><span class="toc-text">分片（sharding）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E9%80%9A%E9%81%93%EF%BC%88state-channel%EF%BC%89"><span class="toc-text">状态通道（state channel）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%A7%E9%93%BE%EF%BC%88side-chain%EF%BC%89"><span class="toc-text">侧链（side chain）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Plasma"><span class="toc-text">Plasma</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Rollup"><span class="toc-text">Rollup</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%8B%93%E5%B1%95"><span class="toc-text">三、拓展</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#EIP-4844"><span class="toc-text">EIP-4844</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#zkSync-Era-%E6%8A%BD%E8%B1%A1%E8%B4%A6%E6%88%B7-Account-Abstraction-AA"><span class="toc-text">zkSync Era 抽象账户(Account Abstraction, AA)</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/pumpkin_faucet/" title="代币水龙头项目🎃">代币水龙头项目🎃</a><time datetime="2026-01-16T04:37:36.000Z" title="发表于 2026-01-16 12:37:36">2026-01-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/layer2/" title="以太坊扩容方案 - Layer2">以太坊扩容方案 - Layer2</a><time datetime="2026-01-12T08:54:22.000Z" title="发表于 2026-01-12 16:54:22">2026-01-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/EVM/" title="EVM(以太坊虚拟机)">EVM(以太坊虚拟机)</a><time datetime="2026-01-06T13:37:36.000Z" title="发表于 2026-01-06 21:37:36">2026-01-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/goroutine_pool/" title="用 go 实现一个协程池">用 go 实现一个协程池</a><time datetime="2025-01-06T13:37:36.000Z" title="发表于 2025-01-06 21:37:36">2025-01-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/memory-assistant/" title="用 python 实现一个记忆助手">用 python 实现一个记忆助手</a><time datetime="2024-12-06T13:37:36.000Z" title="发表于 2024-12-06 21:37:36">2024-12-06</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2026 By chitian-victor</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.3"></script><script src="/js/main.js?v=5.5.3"></script><script src="/js/tw_cn.js?v=5.5.3"></script><div class="js-pjax"></div></div></body></html>